(this["webpackJsonpreact-movies-db"]=this["webpackJsonpreact-movies-db"]||[]).push([[0],{61:function(e,t,a){e.exports=a.p+"static/media/jay_and_silent_bob_reboot_canadian_movie_poster.2ee1c9c8.jpg"},74:function(e,t,a){e.exports=a(90)},83:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a.n(o),c=a(25),s=a(19),l=a(48),u=a(18),m=function(e){return function(t){return function(a){a({type:"FETCH_MOVIES_REQUEST"}),e.getMovies(t).then((function(e){return a({type:"FETCH_MOVIES_SUCCESS",payload:e})})).catch((function(e){return a({type:"FETCH_MOVIES_FAILURE",payload:e})}))}}},p=function(e){return function(t,a){return function(n){n({type:"FETCH_MOVIE_INFO_REQUEST"}),e.getMovieInfo(t,a).then((function(e){return n({type:"FETCH_MOVIE_INFO_SUCCESS",payload:e})})).catch((function(e){return n({type:"FETCH_MOVIE_INFO_FAILURE",payload:e})}))}}},d=r.a.createContext(),b=d.Provider,f=d.Consumer,h=function(){return function(e){return function(t){return r.a.createElement(f,null,(function(a){return r.a.createElement(e,Object.assign({},t,{moviesDbService:a}))}))}}},g=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},v=a(20),E=a(107),O=a(27),j=a(123),y=a(109),w=a(110),k=a(121),x=a(55),I=a.n(x),_=a(122),C=a(26),S=(a(83),Object(E.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},title:{flexGrow:1},titleLink:{color:e.palette.common.white,textDecoration:"none",marginRight:e.spacing(3)},menuButton:{color:e.palette.common.white},header:{boxShadow:"none"},search:Object(u.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(e.palette.common.white,.25)},marginLeft:0,marginRight:e.spacing(1),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(u.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}))),N=g(Object(_.a)(),h(),Object(c.b)((function(e){var t=e.moviesList.movies;return{movies:void 0===t?[]:t}}),(function(e,t){var a=t.moviesDbService;return Object(v.b)({fetchMovies:m(a)},e)})))((function(e){var t=S(),a=r.a.useState(!0),n=Object(l.a)(a,2),o=(n[0],n[1],r.a.useState(null)),i=Object(l.a)(o,2),c=i[0],u=(i[1],Boolean(c),Object(C.f)());return r.a.createElement("div",{className:t.root},r.a.createElement(j.a,{position:"static",color:"secondary",className:t.header},r.a.createElement(y.a,null,r.a.createElement(w.a,{variant:"h6",className:t.title},r.a.createElement(s.b,{to:"/",className:t.titleLink},Object(_.c)("sm",e.width)?"React Movies DB":"RMDB")),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(k.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){var a=t.target.value;"Enter"===t.key&&a.length>=3&&(u.push("/"),e.fetchMovies(a))},inputProps:{"aria-label":"search"}})))))})),R=a(120),M=a(24),T=a(30),F=a(32),L=a(31),B=a(33),V=a(63),A=a(111),D=a(112),H=a(113),U=a(114),P=a(92),G=a(58),Q=a.n(G),W=a(115),J=g(Object(_.a)(),Object(P.a)((function(){return{icon:{color:"rgba(255, 255, 255, 0.54)"},skeletonContainer:{display:"flex",flexWrap:"wrap",margin:"0 -5px 0","& span":{margin:"10px 5px 0"}},showMoreBtn:{display:"block",margin:"10px auto"}}})),h(),Object(c.b)((function(e){var t=e.moviesList;return{loading:t.loading,movies:t.movies}})))((function(e){var t=e.movies,a=e.loading,n=e.classes,o=e.width;return r.a.createElement(R.a,null,a?r.a.createElement(R.a,{className:n.skeletonContainer},Object(V.a)(Array(10)).map((function(e,t){return r.a.createElement(W.a,{variant:"rect",height:180,width:Object(_.b)("xs",o)?"100%":Object(_.b)("sm",o)?"calc(50% - 10px)":Object(_.b)("md",o)||Object(_.b)("lg",o)||Object(_.b)("xl",o)?"calc(20% - 10px)":void 0,key:t})}))):r.a.createElement(A.a,{cellHeight:180,cols:Object(_.b)("xs",o)?1:Object(_.b)("sm",o)?2:Object(_.b)("md",o)||Object(_.b)("lg",o)||Object(_.b)("xl",o)?5:void 0,spacing:10},t.map((function(e){return r.a.createElement(D.a,{key:e.id},r.a.createElement("img",{src:e.image,alt:e.title}),r.a.createElement(s.b,{to:"/movie/".concat(e.id)},r.a.createElement(H.a,{title:e.title,subtitle:r.a.createElement("span",null,"year: ",e.year),actionIcon:r.a.createElement(U.a,{"aria-label":"info about ".concat(e.title),className:n.icon},r.a.createElement(Q.a,null))})))}))))})),K=a(64),z=a(59),Y=a.n(z),q=a(116),X=a(117),Z=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(o)))).renderRatings=function(e){return e.map((function(e){return r.a.createElement("p",{key:e.Source},e.Source,": ",e.Value)}))},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchMovieInfo(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=a.Poster,o=Object(K.a)(a,["Poster"]),i=t.classes,c=t.loading,l=Object.entries(o);return r.a.createElement(R.a,null,r.a.createElement(w.a,null,r.a.createElement(s.b,{to:"/",className:i.back},r.a.createElement(Y.a,{className:i.backArrow}),"Go back")),c?r.a.createElement(R.a,{className:i.skeletonContainer},r.a.createElement(W.a,{variant:"rect",height:500,width:850,className:i.skeletonList}),r.a.createElement(W.a,{variant:"rect",height:500,width:300,className:i.skeletonPoster})):r.a.createElement(R.a,{className:i.details},r.a.createElement(q.a,{component:"ul",className:i.list},l.filter((function(e){return"Response"!==e[0]&&"N/A"!==e[1]})).map((function(t){return r.a.createElement(X.a,{key:t[0],className:i.listItem},r.a.createElement(w.a,{className:i.listItemType},t[0],":"),r.a.createElement(w.a,{component:"div",className:i.listItemValue},"Ratings"!==t[0]?t[1]:e.renderRatings(t[1])))}))),r.a.createElement(R.a,{className:i.poster},r.a.createElement("img",{src:n,alt:"Poster"}))))}}]),t}(n.Component),$=g(Object(P.a)((function(e){return{back:{color:e.palette.common.white,fontSize:"1.1rem",display:"flex",alignItems:"center",cursor:"pointer",textDecoration:"none"},backArrow:{marginRight:e.spacing(1)},list:Object(u.a)({color:e.palette.common.white,paddingRight:e.spacing(10),width:"69%"},e.breakpoints.down("sm"),{order:1,width:"100%"}),listItem:{paddingLeft:0,paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),alignItems:"flex-start",borderBottom:"1px solid ".concat(e.palette.common.white)},listItemType:{width:e.spacing(14),fontWeight:"bold",display:"table"},listItemValue:{paddingLeft:0,"& p":{margin:0}},details:Object(u.a)({display:"flex",marginTop:e.spacing(3),justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),poster:Object(u.a)({marginTop:e.spacing(5)},e.breakpoints.down("sm"),{order:0,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(3)}),skeletonContainer:Object(u.a)({marginTop:e.spacing(5),display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),skeletonList:Object(u.a)({},e.breakpoints.down("sm"),{order:1,width:"100% !important"}),skeletonPoster:Object(u.a)({},e.breakpoints.down("sm"),{order:0,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(3)})}})),h(),Object(c.b)((function(e){var t=e.movieInfo;return{movie:t.movie,loading:t.loading,ownProps:t.ownProps}}),(function(e,t){var a=t.moviesDbService;return Object(v.b)({fetchMovieInfo:p(a)},e)})))(Z),ee=function(e){function t(){return Object(M.a)(this,t),Object(F.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(B.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(R.a,{className:e.box},r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/",component:J,exact:!0}),r.a.createElement(C.a,{path:"/movie/:id",component:$})))}}]),t}(n.Component),te=g(Object(P.a)((function(e){return{grid:{backgroundColor:e.palette.secondary.main},box:{paddingTop:e.spacing(2),paddingBottom:e.spacing(5)},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},icon:{color:"rgba(255, 255, 255, 0.54)"}}})))(ee),ae=Object(E.a)((function(e){return{box:{backgroundColor:e.palette.primary.main,flexGrow:1},heading:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),color:e.palette.common.white}}})),ne=function(){var e=ae();return r.a.createElement(R.a,{className:e.box},r.a.createElement(w.a,{variant:"h4",className:e.heading},"Welcome to React Movies DB"),r.a.createElement(w.a,{variant:"subtitle2",className:e.heading},"Use search input on top to find any movies you want"),r.a.createElement(te,null))},re=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white,paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}})),oe=function(){var e=re();return r.a.createElement(R.a,{className:e.root,color:"secondary"},r.a.createElement(w.a,null,"nfk23b@gmail.com"))},ie=a(119),ce=a(62),se=a(118),le=(a(86),a(87),function(){var e=Object(ce.a)({palette:{primary:{main:"#4c5c96"},secondary:{main:"#2e3141"}},breakpoints:{values:{xs:0,sm:480,xmd:768,md:960,lg:1280,xl:1920}}});return r.a.createElement(se.a,{theme:e},r.a.createElement(ie.a,null,r.a.createElement(N,null),r.a.createElement(ne,null),r.a.createElement(oe,null)))}),ue=(a(88),function(){return r.a.createElement("div",null,"Error")}),me=function(e){function t(){var e,a;Object(M.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(ue,null):this.props.children}}]),t}(n.Component),pe=a(28),de=a.n(pe),be=a(43),fe=a(60),he=a(61),ge=a.n(he),ve=function(e,t){if(void 0===e)return{movies:[{id:"tt6521876",image:ge.a,title:"Jay and Silet Bob",author:"Kevin Smith",year:2019,total:1}],loading:!1,error:null};switch(t.type){case"FETCH_MOVIES_REQUEST":return{movies:[],loading:!0,error:null};case"FETCH_MOVIES_SUCCESS":return{movies:t.payload,loading:!1,error:null};case"FETCH_MOVIES_FAILURE":return{movies:[],loading:!1,error:t.payload};default:return e.moviesList}},Ee=function(e,t){if(void 0===e)return{movie:{},loading:!0,error:null};switch(t.type){case"FETCH_MOVIE_INFO_REQUEST":return{movie:{},loading:!0,error:null};case"FETCH_MOVIE_INFO_SUCCESS":return{movie:t.payload,loading:!1,error:null};case"FETCH_MOVIE_INFO_FAILURE":return{movie:{},loading:!1,error:t.payload};default:return e.movieInfo}},Oe=function(e,t){return{moviesList:ve(e,t),movieInfo:Ee(e,t)}},je=Object(v.c)(Oe,Object(v.a)(fe.a)),ye=new function e(){var t=this;Object(M.a)(this,e),this._apiBase="https://movie-database-imdb-alternative.p.rapidapi.com/?r=json&s=",this._detailedInfoApi="https://movie-database-imdb-alternative.p.rapidapi.com/?i=",this.getResource=function(){var e=Object(be.a)(de.a.mark((function e(a,n){var r,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t._apiBase).concat(a),n&&(r="".concat(t._detailedInfoApi).concat(n)),e.next=4,fetch(r,{method:"GET",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"8a58ba9449mshb045f2dacddf717p1b29aejsn12b160b63b11"}});case 4:if((o=e.sent).ok){e.next=7;break}throw new Error("Could't fetch ".concat(a,", recieved ").concat(o.status));case 7:return e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getMovies=function(){var e=Object(be.a)(de.a.mark((function e(a){var n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(a);case 2:return n=e.sent,e.abrupt("return",t._transformMovie(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieInfo=function(){var e=Object(be.a)(de.a.mark((function e(a){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(null,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){var t=e.totalResults;return e.Search.map((function(e){return{title:e.Title,year:e.Year,id:e.imdbID,image:e.Poster,total:t}}))}};i.a.render(r.a.createElement(c.a,{store:je},r.a.createElement(me,null,r.a.createElement(b,{value:ye},r.a.createElement(s.a,null,r.a.createElement(le,null))))),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.f85b3728.chunk.js.map