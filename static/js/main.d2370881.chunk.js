(this["webpackJsonpreact-movies-db"]=this["webpackJsonpreact-movies-db"]||[]).push([[0],{60:function(e,t,a){e.exports=a.p+"static/media/jay_and_silent_bob_reboot_canadian_movie_poster.2ee1c9c8.jpg"},73:function(e,t,a){e.exports=a(89)},82:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),i=a.n(o),c=a(25),s=a(19),l=a(18),u=function(e){return function(t){return function(a){a({type:"FETCH_MOVIES_REQUEST"}),e.getMovies(t).then((function(e){return a({type:"FETCH_MOVIES_SUCCESS",payload:e})})).catch((function(e){return a({type:"FETCH_MOVIES_FAILURE",payload:e})}))}}},m=function(e){return function(t,a){return function(n){n({type:"FETCH_MOVIE_INFO_REQUEST"}),e.getMovieInfo(t,a).then((function(e){return n({type:"FETCH_MOVIE_INFO_SUCCESS",payload:e})})).catch((function(e){return n({type:"FETCH_MOVIE_INFO_FAILURE",payload:e})}))}}},p=r.a.createContext(),d=p.Provider,b=p.Consumer,f=function(){return function(e){return function(t){return r.a.createElement(b,null,(function(a){return r.a.createElement(e,Object.assign({},t,{moviesDbService:a}))}))}}},h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},g=a(20),v=a(105),E=a(27),O=a(121),j=a(107),y=a(108),w=a(119),k=a(54),x=a.n(k),I=a(120),_=a(26),C=(a(82),Object(v.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main},title:{flexGrow:1},titleLink:{color:e.palette.common.white,textDecoration:"none",marginRight:e.spacing(3)},menuButton:{color:e.palette.common.white},header:{boxShadow:"none"},search:Object(l.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(E.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(E.b)(e.palette.common.white,.25)},marginLeft:0,marginRight:e.spacing(1),width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(l.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}))),S=h(Object(I.a)(),f(),Object(c.b)((function(e){var t=e.moviesList.movies;return{movies:void 0===t?[]:t}}),(function(e,t){var a=t.moviesDbService;return Object(g.b)({fetchMovies:u(a)},e)})))((function(e){var t=C(),a=Object(_.f)();return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{position:"static",color:"secondary",className:t.header},r.a.createElement(j.a,null,r.a.createElement(y.a,{variant:"h6",className:t.title},r.a.createElement(s.b,{to:"/react-movies-db/",className:t.titleLink},Object(I.c)("sm",e.width)?"React Movies DB":"RMDB")),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(x.a,null)),r.a.createElement(w.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},onKeyPress:function(t){var n=t.target.value;"Enter"===t.key&&n.length>=3&&(a.push("/"),e.fetchMovies(n))},inputProps:{"aria-label":"search"}})))))})),N=a(118),R=a(24),M=a(30),T=a(32),F=a(31),L=a(33),B=a(62),V=a(109),A=a(110),D=a(111),H=a(112),U=a(91),P=a(57),G=a.n(P),Q=a(113),W=h(Object(I.a)(),Object(U.a)((function(){return{icon:{color:"rgba(255, 255, 255, 0.54)"},skeletonContainer:{display:"flex",flexWrap:"wrap",margin:"0 -5px 0","& span":{margin:"10px 5px 0"}},showMoreBtn:{display:"block",margin:"10px auto"}}})),f(),Object(c.b)((function(e){var t=e.moviesList;return{loading:t.loading,movies:t.movies}})))((function(e){var t=e.movies,a=e.loading,n=e.classes,o=e.width;return r.a.createElement(N.a,null,a?r.a.createElement(N.a,{className:n.skeletonContainer},Object(B.a)(Array(10)).map((function(e,t){return r.a.createElement(Q.a,{variant:"rect",height:180,width:Object(I.b)("xs",o)?"100%":Object(I.b)("sm",o)?"calc(50% - 10px)":Object(I.b)("md",o)||Object(I.b)("lg",o)||Object(I.b)("xl",o)?"calc(20% - 10px)":void 0,key:t})}))):r.a.createElement(V.a,{cellHeight:180,cols:Object(I.b)("xs",o)?1:Object(I.b)("sm",o)?2:Object(I.b)("md",o)||Object(I.b)("lg",o)||Object(I.b)("xl",o)?5:void 0,spacing:10},t.map((function(e){return r.a.createElement(A.a,{key:e.id},r.a.createElement("img",{src:e.image,alt:e.title}),r.a.createElement(s.b,{to:"/react-movies-db/movie/".concat(e.id)},r.a.createElement(D.a,{title:e.title,subtitle:r.a.createElement("span",null,"year: ",e.year),actionIcon:r.a.createElement(H.a,{"aria-label":"info about ".concat(e.title),className:n.icon},r.a.createElement(G.a,null))})))}))))})),J=a(63),K=a(58),z=a.n(K),Y=a(114),q=a(115),X=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(T.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(o)))).renderRatings=function(e){return e.map((function(e){return r.a.createElement("p",{key:e.Source},e.Source,": ",e.Value)}))},a}return Object(L.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchMovieInfo(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=a.Poster,o=Object(J.a)(a,["Poster"]),i=t.classes,c=t.loading,l=Object.entries(o);return r.a.createElement(N.a,null,r.a.createElement(y.a,null,r.a.createElement(s.b,{to:"/react-movies-db/",className:i.back},r.a.createElement(z.a,{className:i.backArrow}),"Go back")),c?r.a.createElement(N.a,{className:i.skeletonContainer},r.a.createElement(Q.a,{variant:"rect",height:500,width:850,className:i.skeletonList}),r.a.createElement(Q.a,{variant:"rect",height:500,width:300,className:i.skeletonPoster})):r.a.createElement(N.a,{className:i.details},r.a.createElement(Y.a,{component:"ul",className:i.list},l.filter((function(e){return"Response"!==e[0]&&"N/A"!==e[1]})).map((function(t){return r.a.createElement(q.a,{key:t[0],className:i.listItem},r.a.createElement(y.a,{className:i.listItemType},t[0],":"),r.a.createElement(y.a,{component:"div",className:i.listItemValue},"Ratings"!==t[0]?t[1]:e.renderRatings(t[1])))}))),r.a.createElement(N.a,{className:i.poster},r.a.createElement("img",{src:n,alt:"Poster"}))))}}]),t}(n.Component),Z=h(Object(U.a)((function(e){return{back:{color:e.palette.common.white,fontSize:"1.1rem",display:"flex",alignItems:"center",cursor:"pointer",textDecoration:"none"},backArrow:{marginRight:e.spacing(1)},list:Object(l.a)({color:e.palette.common.white,paddingRight:e.spacing(10),width:"69%"},e.breakpoints.down("sm"),{order:1,width:"100%"}),listItem:{paddingLeft:0,paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5),alignItems:"flex-start",borderBottom:"1px solid ".concat(e.palette.common.white)},listItemType:{width:e.spacing(14),fontWeight:"bold",display:"table"},listItemValue:{paddingLeft:0,"& p":{margin:0}},details:Object(l.a)({display:"flex",marginTop:e.spacing(3),justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),poster:Object(l.a)({marginTop:e.spacing(5)},e.breakpoints.down("sm"),{order:0,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(3)}),skeletonContainer:Object(l.a)({marginTop:e.spacing(5),display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),skeletonList:Object(l.a)({},e.breakpoints.down("sm"),{order:1,width:"100% !important"}),skeletonPoster:Object(l.a)({},e.breakpoints.down("sm"),{order:0,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(3)})}})),f(),Object(c.b)((function(e){var t=e.movieInfo;return{movie:t.movie,loading:t.loading,ownProps:t.ownProps}}),(function(e,t){var a=t.moviesDbService;return Object(g.b)({fetchMovieInfo:m(a)},e)})))(X),$=function(e){function t(){return Object(R.a)(this,t),Object(T.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(N.a,{className:e.box},r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/react-movies-db/",component:W,exact:!0}),r.a.createElement(_.a,{path:"/react-movies-db/movie/:id",component:Z})))}}]),t}(n.Component),ee=h(Object(U.a)((function(e){return{grid:{backgroundColor:e.palette.secondary.main},box:{paddingTop:e.spacing(2),paddingBottom:e.spacing(5)},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},icon:{color:"rgba(255, 255, 255, 0.54)"}}})))($),te=Object(v.a)((function(e){return{box:{flexGrow:1},heading:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),color:e.palette.common.white}}})),ae=function(){var e=te();return r.a.createElement(N.a,{className:e.box},r.a.createElement(y.a,{variant:"h4",className:e.heading},"Welcome to React Movies DB"),r.a.createElement(y.a,{variant:"subtitle2",className:e.heading},"Use search input on top to find any movies you want"),r.a.createElement(ee,null))},ne=Object(v.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white,paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}})),re=function(){var e=ne();return r.a.createElement(N.a,{className:e.root,color:"secondary"},r.a.createElement(y.a,null,"nfk23b@gmail.com"))},oe=a(117),ie=a(61),ce=a(116),se=(a(85),a(86),function(){var e=Object(ie.a)({palette:{primary:{main:"#4c5c96"},secondary:{main:"#2e3141"}},breakpoints:{values:{xs:0,sm:480,xmd:768,md:960,lg:1280,xl:1920}}});return r.a.createElement(ce.a,{theme:e},r.a.createElement(oe.a,null,r.a.createElement(S,null),r.a.createElement(ae,null),r.a.createElement(re,null)))}),le=(a(87),function(){return r.a.createElement("div",null,"Error")}),ue=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(L.a)(t,e),Object(M.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(le,null):this.props.children}}]),t}(n.Component),me=a(28),pe=a.n(me),de=a(43),be=a(59),fe=a(60),he=a.n(fe),ge=function(e,t){if(void 0===e)return{movies:[{id:"tt6521876",image:he.a,title:"Jay and Silet Bob",author:"Kevin Smith",year:2019,total:1}],loading:!1,error:null};switch(t.type){case"FETCH_MOVIES_REQUEST":return{movies:[],loading:!0,error:null};case"FETCH_MOVIES_SUCCESS":return{movies:t.payload,loading:!1,error:null};case"FETCH_MOVIES_FAILURE":return{movies:[],loading:!1,error:t.payload};default:return e.moviesList}},ve=function(e,t){if(void 0===e)return{movie:{},loading:!0,error:null};switch(t.type){case"FETCH_MOVIE_INFO_REQUEST":return{movie:{},loading:!0,error:null};case"FETCH_MOVIE_INFO_SUCCESS":return{movie:t.payload,loading:!1,error:null};case"FETCH_MOVIE_INFO_FAILURE":return{movie:{},loading:!1,error:t.payload};default:return e.movieInfo}},Ee=function(e,t){return{moviesList:ge(e,t),movieInfo:ve(e,t)}},Oe=Object(g.c)(Ee,Object(g.a)(be.a)),je=new function e(){var t=this;Object(R.a)(this,e),this._apiBase="https://movie-database-imdb-alternative.p.rapidapi.com/?r=json&s=",this._detailedInfoApi="https://movie-database-imdb-alternative.p.rapidapi.com/?i=",this.getResource=function(){var e=Object(de.a)(pe.a.mark((function e(a,n){var r,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t._apiBase).concat(a),n&&(r="".concat(t._detailedInfoApi).concat(n)),e.next=4,fetch(r,{method:"GET",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"8a58ba9449mshb045f2dacddf717p1b29aejsn12b160b63b11"}});case 4:if((o=e.sent).ok){e.next=7;break}throw new Error("Could't fetch ".concat(a,", recieved ").concat(o.status));case 7:return e.next=9,o.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getMovies=function(){var e=Object(de.a)(pe.a.mark((function e(a){var n;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(a);case 2:return n=e.sent,e.abrupt("return",t._transformMovie(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieInfo=function(){var e=Object(de.a)(pe.a.mark((function e(a){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(null,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._transformMovie=function(e){var t=e.totalResults;return e.Search.map((function(e){return{title:e.Title,year:e.Year,id:e.imdbID,image:e.Poster,total:t}}))}};i.a.render(r.a.createElement(c.a,{store:Oe},r.a.createElement(ue,null,r.a.createElement(d,{value:je},r.a.createElement(s.a,null,r.a.createElement(se,null))))),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.d2370881.chunk.js.map